apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: aggregatedapis-svc
    creationTimestamp: "2025-04-09T20:37:01Z"
    generateName: aggregatedapis-svc-7c977dcc7f-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: aggregatedapis
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7c977dcc7f
      release: k10
      run: aggregatedapis-svc
    name: aggregatedapis-svc-7c977dcc7f-5grz2
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: aggregatedapis-svc-7c977dcc7f
      uid: 79ceed92-0df1-4679-886e-cdc0ce2f2652
    resourceVersion: "722542"
    uid: 74e3326d-94f3-4674-8097-f864022f55bc
  spec:
    containers:
    - args:
      - --secure-port=10250
      - --cert-dir=/tmp/apiserver.local.config/certificates/
      - --audit-policy-file=/etc/kubernetes/agg-audit-policy.yaml
      - --enable-k10-audit-cloud-aws-s3=true
      - --audit-cloud-path=k10audit/
      - --enable-k10-audit-cluster=true
      - --audit-log-file=-
      - --audit-log-file-size=100
      env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: aggregatedapis
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/aggregatedapis:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 10250
        timeoutSeconds: 5
      name: aggregatedapis-svc
      ports:
      - containerPort: 10250
        protocol: TCP
      resources:
        requests:
          cpu: 90m
          memory: 180Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /etc/kubernetes/agg-audit-policy.yaml
        name: aggauditpolicy-config
        readOnly: true
        subPath: agg-audit-policy.yaml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-pvhb5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker02
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - configMap:
        defaultMode: 420
        name: aggauditpolicy-config
      name: aggauditpolicy-config
    - name: kube-api-access-pvhb5
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:22:32Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T20:41:59Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:23:06Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:23:06Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T20:41:59Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://de95a68c1185d526e8ed9df415d5749319f5f6ccb210e86bbdaf45bbf3803ff8
      image: gcr.io/kasten-images/aggregatedapis:7.5.2
      imageID: gcr.io/kasten-images/aggregatedapis@sha256:3d37530c2bcdedf4467a08978b343a8a9c0f94a8b6d275a225f1b850234fedf8
      lastState:
        terminated:
          containerID: containerd://c4ca226fe90f9e90c243ac577c2f61225003611b3fa6e398003c8369d75f79df
          exitCode: 255
          finishedAt: "2025-04-24T22:08:11Z"
          reason: Unknown
          startedAt: "2025-04-24T21:57:18Z"
      name: aggregatedapis-svc
      ready: true
      restartCount: 14
      started: true
      state:
        running:
          startedAt: "2025-04-24T22:23:05Z"
    hostIP: 192.168.2.152
    hostIPs:
    - ip: 192.168.2.152
    phase: Running
    podIP: 10.36.0.10
    podIPs:
    - ip: 10.36.0.10
    qosClass: Burstable
    startTime: "2025-04-09T20:41:59Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: auth-svc
    creationTimestamp: "2025-04-09T20:36:50Z"
    generateName: auth-svc-8565775c8-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: auth
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 8565775c8
      release: k10
      run: auth-svc
    name: auth-svc-8565775c8-j4nlt
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: auth-svc-8565775c8
      uid: 331658f5-cbc7-4dd8-b447-cd8e1d2b4761
    resourceVersion: "730411"
    uid: 9c28eacb-d516-44e3-adc2-13300397bc01
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: auth
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/auth:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: auth-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-xxhqx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker02
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-xxhqx
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:22:30Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T20:41:59Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T23:37:07Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T23:37:07Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T20:41:59Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://6ea96d670ac97c57cf270cbaa8ce46bca3cd5e198cadb2f36462ab5731ecc6b8
      image: gcr.io/kasten-images/auth:7.5.2
      imageID: gcr.io/kasten-images/auth@sha256:fc0d6dfd30eea407e8e53543a1556a10aabf474eabd61317a012e787bd58e969
      lastState:
        terminated:
          containerID: containerd://2985149ba67dbd73e153568d61d156cd45752ef9c68f27a82560d79664f6538a
          exitCode: 0
          finishedAt: "2025-04-24T23:22:54Z"
          reason: Completed
          startedAt: "2025-04-24T22:23:06Z"
      name: auth-svc
      ready: true
      restartCount: 22
      started: true
      state:
        running:
          startedAt: "2025-04-24T23:36:25Z"
    hostIP: 192.168.2.152
    hostIPs:
    - ip: 192.168.2.152
    phase: Running
    podIP: 10.36.0.11
    podIPs:
    - ip: 10.36.0.11
    qosClass: Burstable
    startTime: "2025-04-09T20:41:59Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: catalog-svc
    creationTimestamp: "2025-04-24T22:34:58Z"
    generateName: catalog-svc-56b75dbc48-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: catalog
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 56b75dbc48
      release: k10
      run: catalog-svc
    name: catalog-svc-56b75dbc48-xgg8k
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: catalog-svc-56b75dbc48
      uid: 14391970-d72e-42f7-9ff2-0a4a2cc7d674
    resourceVersion: "723655"
    uid: 96d92ba3-edb0-4d88-8698-b880bdb8ec55
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: catalog
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/catalog:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: catalog-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 6m
          memory: 150Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: catalog-persistent-storage
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-h2jmj
        readOnly: true
    - env:
      - name: K10_CAPABILITIES
        value: ' mc'
      image: gcr.io/kasten-images/kanister-tools:7.5.2
      imagePullPolicy: Always
      name: kanister-sidecar
      resources:
        limits:
          cpu: 1200m
          memory: 800Mi
        requests:
          cpu: 100m
          memory: 800Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: catalog-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-h2jmj
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - env:
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      image: gcr.io/kasten-images/upgrade:7.5.2
      imagePullPolicy: Always
      name: upgrade-init
      resources:
        requests:
          cpu: 5m
          memory: 20Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - FOWNER
          - CHOWN
        runAsUser: 1000
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: catalog-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-h2jmj
        readOnly: true
    - env:
      - name: INIT_CONTAINER
        value: "true"
      - name: K10_RELEASE_NAME
        value: k10
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      image: gcr.io/kasten-images/catalog:7.5.2
      imagePullPolicy: Always
      name: schema-upgrade-check
      resources:
        requests:
          cpu: 6m
          memory: 150Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: catalog-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-h2jmj
        readOnly: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: catalog-persistent-storage
      persistentVolumeClaim:
        claimName: catalog-pv-claim
    - name: kube-api-access-h2jmj
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:35:10Z"
      message: '0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims.
        preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling.'
      reason: Unschedulable
      status: "False"
      type: PodScheduled
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: controllermanager-svc
    creationTimestamp: "2025-04-09T21:02:01Z"
    generateName: controllermanager-svc-5f9878478-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: controllermanager
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5f9878478
      release: k10
      run: controllermanager-svc
    name: controllermanager-svc-5f9878478-cpcrv
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: controllermanager-svc-5f9878478
      uid: 47b2a20f-9f6c-4ce1-9100-0deb7f119db1
    resourceVersion: "745645"
    uid: a439c65d-349a-44aa-aaf2-457db5dc1948
  spec:
    containers:
    - env:
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: aws_access_key_id
            name: aws-creds
            optional: true
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: aws_secret_access_key
            name: aws-creds
            optional: true
      - name: K10_AWS_IAM_ROLE
        valueFrom:
          secretKeyRef:
            key: role
            name: aws-creds
            optional: true
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: controllermanager
      - name: K10_STATEFUL
        value: "true"
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      - name: K10_DEFAULT_PRIORITY_CLASS_NAME
        valueFrom:
          configMapKeyRef:
            key: K10DefaultPriorityClassName
            name: k10-config
      - name: K10_PROMETHEUS_HOST
        value: prometheus-server-exp
      - name: K10_PROMETHEUS_PORT
        value: "80"
      - name: K10_PROMETHEUS_BASE_URL
        value: /k10/prometheus/
      image: gcr.io/kasten-images/controllermanager:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: controllermanager-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      - containerPort: 18000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 9m
          memory: 160Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-c4kj6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker02
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-c4kj6
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:22:34Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:02:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T16:15:36Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T16:15:36Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:02:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://bbf26d3a52f0b3973d72ed4632ee9e8af431d2dd85e5acaed04149725c88a653
      image: gcr.io/kasten-images/controllermanager:7.5.2
      imageID: gcr.io/kasten-images/controllermanager@sha256:46939986ea9bae96590dc39de1e80acd9ddabe7c04152adf7c393ecb6e0478d1
      lastState:
        terminated:
          containerID: containerd://002c550e2a5318ecd01f5d6510911681478ad20695aafdb1137bc68163da1ebd
          exitCode: 0
          finishedAt: "2025-04-25T16:14:10Z"
          reason: Completed
          startedAt: "2025-04-25T11:35:39Z"
      name: controllermanager-svc
      ready: true
      restartCount: 39
      started: true
      state:
        running:
          startedAt: "2025-04-25T16:14:37Z"
    hostIP: 192.168.2.152
    hostIPs:
    - ip: 192.168.2.152
    phase: Running
    podIP: 10.36.0.23
    podIPs:
    - ip: 10.36.0.23
    qosClass: Burstable
    startTime: "2025-04-09T21:02:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: crypto-svc
    creationTimestamp: "2025-04-09T21:09:48Z"
    generateName: crypto-svc-74bf864fb9-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: crypto
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 74bf864fb9
      release: k10
      run: crypto-svc
    name: crypto-svc-74bf864fb9-ghzsj
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: crypto-svc-74bf864fb9
      uid: fca66676-57d4-4f53-acb1-8ca0b6a3edf5
    resourceVersion: "729968"
    uid: 112764c9-e5ef-4942-aac6-4082a7458d9e
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: crypto
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/crypto:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: crypto-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-sp4vl
        readOnly: true
    - args:
      - --port=8001
      - --host=0.0.0.0
      env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: crypto
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/bloblifecyclemanager:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: bloblifecyclemanager-svc
      ports:
      - containerPort: 8001
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-sp4vl
        readOnly: true
    - args:
      - --port=8002
      - --host=0.0.0.0
      env:
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: aws_access_key_id
            name: aws-creds
            optional: true
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: aws_secret_access_key
            name: aws-creds
            optional: true
      - name: K10_AWS_IAM_ROLE
        valueFrom:
          secretKeyRef:
            key: role
            name: aws-creds
            optional: true
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: crypto
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: K10_GC_DAEMON_PERIOD
        valueFrom:
          configMapKeyRef:
            key: K10GCDaemonPeriod
            name: k10-config
      - name: K10_GC_KEEP_MAX_ACTIONS
        valueFrom:
          configMapKeyRef:
            key: K10GCKeepMaxActions
            name: k10-config
      - name: K10_GC_ACTIONS_ENABLED
        valueFrom:
          configMapKeyRef:
            key: K10GCActionsEnabled
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/garbagecollector:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8002
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: garbagecollector-svc
      ports:
      - containerPort: 8002
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8002
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 130Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-sp4vl
        readOnly: true
    - args:
      - --port=8003
      - --host=0.0.0.0
      env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: crypto
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: K10_DATA_STORE_DISABLE_COMPRESSION
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreDisableCompression
            name: k10-config
      - name: K10_KANISTER_POD_METRICS_IMAGE
        value: gcr.io/kasten-images/metric-sidecar:7.5.2
      - name: TIMEOUT_WORKER_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutWorkerPodReady
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_ENABLED
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarEnabled
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
        valueFrom:
          configMapKeyRef:
            key: WorkerPodPushgatewayMetricsInterval
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryRequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPURequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryLimit
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPULimit
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      - name: K10_DEFAULT_PRIORITY_CLASS_NAME
        valueFrom:
          configMapKeyRef:
            key: K10DefaultPriorityClassName
            name: k10-config
      image: gcr.io/kasten-images/repositories:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8003
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: repositories-svc
      ports:
      - containerPort: 8003
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8003
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 130Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-sp4vl
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-sp4vl
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:55:59Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:58:38Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:58:38Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://9228b4824233e2cdebe41fa8286c67554e48527dc3e208ec02adf7d906d59ad7
      image: gcr.io/kasten-images/bloblifecyclemanager:7.5.2
      imageID: gcr.io/kasten-images/bloblifecyclemanager@sha256:4c891eabecb2a9c2a3974a3c8515313cec55073e877f68bd03b6285621bfa53e
      lastState:
        terminated:
          containerID: containerd://0316f99d65446f22445dc4a8b65112f99c459c325ef0b3a79a67bbfa2889867d
          exitCode: 0
          finishedAt: "2025-04-25T09:47:21Z"
          reason: Completed
          startedAt: "2025-04-24T23:00:37Z"
      name: bloblifecyclemanager-svc
      ready: true
      restartCount: 24
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:56:51Z"
    - containerID: containerd://3bbeb9cffbd3d824d7ed695dbdd73bee13d285efe9a0ef021c7ee6f1a2c60027
      image: gcr.io/kasten-images/crypto:7.5.2
      imageID: gcr.io/kasten-images/crypto@sha256:180302d549ef20d8554f5e43fe76441bbc4c626bf9d4b20def27cd729e26aedb
      lastState:
        terminated:
          containerID: containerd://fe3032ac1d3ce3ff91881aa195487c55848f34f7f3df0d2bd7cc3192d024391b
          exitCode: 0
          finishedAt: "2025-04-25T09:47:16Z"
          reason: Completed
          startedAt: "2025-04-24T22:22:02Z"
      name: crypto-svc
      ready: true
      restartCount: 26
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:56:48Z"
    - containerID: containerd://2c2856adbdcc41bdf30ac9f777f383b876f8dd4427bef306cb8b69e80fbc8cbe
      image: gcr.io/kasten-images/garbagecollector:7.5.2
      imageID: gcr.io/kasten-images/garbagecollector@sha256:32d2367ccf4a64ac01868af39e0c8816b3e00827984c41b4b63b3c8446f8ca6b
      lastState:
        terminated:
          containerID: containerd://c0b9a63a0f66785d857976074c048625e86fa92d36ec950da33b7455b3965482
          exitCode: 0
          finishedAt: "2025-04-25T09:46:26Z"
          reason: Completed
          startedAt: "2025-04-24T23:01:06Z"
      name: garbagecollector-svc
      ready: true
      restartCount: 22
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:55:32Z"
    - containerID: containerd://75c55337647c92298e81a1694374fcee8722fbedc3e691e54112e1021a9d8aa6
      image: gcr.io/kasten-images/repositories:7.5.2
      imageID: gcr.io/kasten-images/repositories@sha256:35d1f002baca25e14169385424d37ad08a3da490c21215bcb5b9917d64e9d00b
      lastState:
        terminated:
          containerID: containerd://c3db83d40b3865234d1882efd82be04872620b4e5bfb53a348fefd8718154add
          exitCode: 0
          finishedAt: "2025-04-25T09:47:25Z"
          reason: Completed
          startedAt: "2025-04-24T23:01:24Z"
      name: repositories-svc
      ready: true
      restartCount: 24
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:56:06Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.5
    podIPs:
    - ip: 10.44.0.5
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: dashboardbff-svc
    creationTimestamp: "2025-04-09T21:10:20Z"
    generateName: dashboardbff-svc-7cb8795f4-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: dashboardbff
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7cb8795f4
      release: k10
      run: dashboardbff-svc
    name: dashboardbff-svc-7cb8795f4-phmvg
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: dashboardbff-svc-7cb8795f4
      uid: f3616d6f-6864-4b61-9a06-28e0a452a481
    resourceVersion: "750893"
    uid: 605275f2-84fd-4398-a60b-ca1183e07f87
  spec:
    containers:
    - env:
      - name: K10_DISABLED_SERVICES
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: aws_access_key_id
            name: aws-creds
            optional: true
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: aws_secret_access_key
            name: aws-creds
            optional: true
      - name: K10_AWS_IAM_ROLE
        valueFrom:
          secretKeyRef:
            key: role
            name: aws-creds
            optional: true
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: dashboardbff
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      - name: K10_DEFAULT_PRIORITY_CLASS_NAME
        valueFrom:
          configMapKeyRef:
            key: K10DefaultPriorityClassName
            name: k10-config
      - name: K10_PROMETHEUS_HOST
        value: prometheus-server-exp
      - name: K10_PROMETHEUS_PORT
        value: "80"
      - name: K10_PROMETHEUS_BASE_URL
        value: /k10/prometheus/
      image: gcr.io/kasten-images/dashboardbff:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: dashboardbff-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 9m
          memory: 170Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-whdsk
        readOnly: true
    - args:
      - --port=8001
      - --host=0.0.0.0
      env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: dashboardbff
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/vbrintegrationapi:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: vbrintegrationapi-svc
      ports:
      - containerPort: 8001
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-whdsk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-whdsk
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:55:20Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T17:06:02Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T17:06:02Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://1d5e34c60750cb833aba088073ed32cf22d2877db029cadd455b148a8d105f34
      image: gcr.io/kasten-images/dashboardbff:7.5.2
      imageID: gcr.io/kasten-images/dashboardbff@sha256:612074495da87e94bd2747ceed4a37b4c41181c3e9392a1fbf3a58bc15068a0d
      lastState: {}
      name: dashboardbff-svc
      ready: true
      restartCount: 61
      started: true
      state:
        running:
          startedAt: "2025-04-25T17:05:50Z"
    - containerID: containerd://02f9bba4e304f667ef5643e685e10cadda191a6110ca5a65a1556a13eeaa1385
      image: gcr.io/kasten-images/vbrintegrationapi:7.5.2
      imageID: gcr.io/kasten-images/vbrintegrationapi@sha256:62eee030ea6907251aa3f2578d721c366db50d51f73470526ef086d757d5cb9c
      lastState:
        terminated:
          containerID: containerd://631f85b0bff0dc427aa1c23cae36a34b95cd7b7a6a392ced4346ff02fb1d60f3
          exitCode: 0
          finishedAt: "2025-04-25T16:14:00Z"
          reason: Completed
          startedAt: "2025-04-25T11:35:18Z"
      name: vbrintegrationapi-svc
      ready: true
      restartCount: 50
      started: true
      state:
        running:
          startedAt: "2025-04-25T16:15:28Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.19
    podIPs:
    - ip: 10.44.0.19
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: executor-svc
    creationTimestamp: "2025-04-09T21:07:10Z"
    generateName: executor-svc-56545cf6f9-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: executor
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 56545cf6f9
      release: k10
      run: executor-svc
    name: executor-svc-56545cf6f9-jqtzn
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: executor-svc-56545cf6f9
      uid: f8ca97d3-1eba-458f-8cd6-71ae2422007a
    resourceVersion: "729914"
    uid: c024ea77-e51c-4206-91a0-5dcc31f952be
  spec:
    containers:
    - env:
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: aws_access_key_id
            name: aws-creds
            optional: true
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: aws_secret_access_key
            name: aws-creds
            optional: true
      - name: K10_AWS_IAM_ROLE
        valueFrom:
          secretKeyRef:
            key: role
            name: aws-creds
            optional: true
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: executor
      - name: KUBEVIRT_VM_UNFREEZE_TIMEOUT
        valueFrom:
          configMapKeyRef:
            key: kubeVirtVMsUnFreezeTimeout
            name: k10-config
      - name: QUICK_DISASTER_RECOVERY_ENABLED
        valueFrom:
          configMapKeyRef:
            key: quickDisasterRecoveryEnabled
            name: k10-config
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: DATA_MOVER_IMAGE
        value: gcr.io/kasten-images/datamover:7.5.2
      - name: DATA_STORE_LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: DataStoreLogLevel
            name: k10-config
      - name: DATA_STORE_FILE_LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: DataStoreFileLogLevel
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: K10_DATA_STORE_DISABLE_COMPRESSION
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreDisableCompression
            name: k10-config
      - name: K10_KANISTER_POD_METRICS_IMAGE
        value: gcr.io/kasten-images/metric-sidecar:7.5.2
      - name: TIMEOUT_WORKER_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutWorkerPodReady
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_ENABLED
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarEnabled
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
        valueFrom:
          configMapKeyRef:
            key: WorkerPodPushgatewayMetricsInterval
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryRequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPURequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryLimit
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPULimit
            name: k10-config
      - name: K10_LIMITER_EXECUTOR_THREADS
        valueFrom:
          configMapKeyRef:
            key: K10LimiterExecutorThreads
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOT_RESTORES_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotRestoresPerAction
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_RESTORES_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadRestoresPerAction
            name: k10-config
      - name: K10_TIMEOUT_BLUEPRINT_BACKUP
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutBlueprintBackup
            name: k10-config
      - name: K10_TIMEOUT_BLUEPRINT_RESTORE
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutBlueprintRestore
            name: k10-config
      - name: K10_TIMEOUT_BLUEPRINT_DELETE
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutBlueprintDelete
            name: k10-config
      - name: K10_TIMEOUT_BLUEPRINT_HOOKS
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutBlueprintHooks
            name: k10-config
      - name: K10_TIMEOUT_CHECK_REPO_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutCheckRepoPodReady
            name: k10-config
      - name: K10_TIMEOUT_STATS_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutStatsPodReady
            name: k10-config
      - name: K10_TIMEOUT_EFS_RESTORE_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutEFSRestorePodReady
            name: k10-config
      - name: KANISTER_MANAGED_DATA_SERVICES_BLUEPRINTS_ENABLED
        valueFrom:
          configMapKeyRef:
            key: KanisterManagedDataServicesBlueprintsEnabled
            name: k10-config
      - name: K10_FORCE_ROOT_IN_BLUEPRINT_ACTIONS
        valueFrom:
          configMapKeyRef:
            key: K10ForceRootInBlueprintActions
            name: k10-config
      - name: EFS_BACKUP_VAULT_NAME
        valueFrom:
          configMapKeyRef:
            key: efsBackupVaultName
            name: k10-config
      - name: VMWARE_GOM_TIMEOUT_MIN
        valueFrom:
          configMapKeyRef:
            key: vmWareTaskTimeoutMin
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      - name: K10_DEFAULT_PRIORITY_CLASS_NAME
        valueFrom:
          configMapKeyRef:
            key: K10DefaultPriorityClassName
            name: k10-config
      - name: K10_PROMETHEUS_HOST
        value: prometheus-server-exp
      - name: K10_PROMETHEUS_PORT
        value: "80"
      - name: K10_PROMETHEUS_BASE_URL
        value: /k10/prometheus/
      image: gcr.io/kasten-images/executor:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: executor-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 160Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /tmp
        name: datastore-cache-vol
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kk65t
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - emptyDir: {}
      name: datastore-cache-vol
    - name: kube-api-access-kk65t
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:55:03Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:57:39Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:57:39Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://75b17f2d263cacf1f25bdccce288872e98e91c5e79fc9a466e4b3d2d416d5b9d
      image: gcr.io/kasten-images/executor:7.5.2
      imageID: gcr.io/kasten-images/executor@sha256:76d5cca1ca1903d477323967b73a3b5fd5f50208cd1c5b66929b4efedb495c56
      lastState:
        terminated:
          containerID: containerd://032f9631ddd8214edf461feb91c29bb86250081f1d9b4e2e5bedb4edd7e1c331
          exitCode: 0
          finishedAt: "2025-04-25T09:46:21Z"
          reason: Completed
          startedAt: "2025-04-24T22:55:02Z"
      name: executor-svc
      ready: true
      restartCount: 23
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:57:03Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.13
    podIPs:
    - ip: 10.44.0.13
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: frontend-svc
    creationTimestamp: "2025-04-09T21:07:31Z"
    generateName: frontend-svc-5666d7b958-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: frontend
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5666d7b958
      release: k10
      run: frontend-svc
    name: frontend-svc-5666d7b958-lldxz
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: frontend-svc-5666d7b958
      uid: cda91d73-0b93-4fe1-9fc3-f0d01da1bcfe
    resourceVersion: "729946"
    uid: e940394a-3d6c-47d8-a5cb-895ea872e34f
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: frontend
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/frontend:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: frontend-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 1m
          memory: 40Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /etc/nginx/nginx.conf
        name: frontend-config
        readOnly: true
        subPath: nginx.conf
      - mountPath: /etc/nginx/conf.d/frontend.conf
        name: frontend-config
        readOnly: true
        subPath: frontend.conf
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7hm49
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - configMap:
        defaultMode: 420
        name: frontend-config
      name: frontend-config
    - name: kube-api-access-7hm49
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:21:21Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:58:09Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:58:09Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://5e8685e594610e76fa17073719a621b2fa63d6623836931f9b6699aef83833b0
      image: gcr.io/kasten-images/frontend:7.5.2
      imageID: gcr.io/kasten-images/frontend@sha256:cef5f0799438f6337fb301550ae1747adf57ad6e005b88d10a2aeea6d88c2ba9
      lastState:
        terminated:
          containerID: containerd://485a5673b0458e0e21d1532c3c2438c18424d576c50badeb0b37ea6ac1f7614d
          exitCode: 137
          finishedAt: "2025-04-25T09:47:11Z"
          reason: Error
          startedAt: "2025-04-24T22:21:18Z"
      name: frontend-svc
      ready: true
      restartCount: 21
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:57:58Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.3
    podIPs:
    - ip: 10.44.0.3
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
    creationTimestamp: "2025-04-09T21:09:15Z"
    generateName: gateway-5bff7c7765-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: gateway
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5bff7c7765
      release: k10
      service: gateway
    name: gateway-5bff7c7765-2fcsg
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: gateway-5bff7c7765
      uid: 6cbdb159-df75-434d-8f94-5ee56d40e44f
    resourceVersion: "728491"
    uid: 847297b3-b1b5-4a10-9d60-f6eefeac6f13
  spec:
    containers:
    - env:
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: K10_CAPABILITIES
        value: ' mc'
      envFrom:
      - configMapRef:
          name: k10-gateway
      image: gcr.io/kasten-images/gateway:7.5.2
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: gateway
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8000
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits:
          cpu: "1"
          memory: 1Gi
        requests:
          cpu: 200m
          memory: 300Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-pdbgl
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-pdbgl
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:22:10Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:47:59Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:47:59Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://e56fec11d6e2ff00ee886dbfabb682216639162ee4e869d64a9267becebed993
      image: gcr.io/kasten-images/gateway:7.5.2
      imageID: gcr.io/kasten-images/gateway@sha256:e735f9556591bc1795678a387333da51f38fdb38ab57473591c6f1cb109baca2
      lastState:
        terminated:
          containerID: containerd://ad852b1426bf15d2032a856761858751fae91030bcab2e9b606004ca9d555129
          exitCode: 2
          finishedAt: "2025-04-25T09:46:56Z"
          reason: Error
          startedAt: "2025-04-24T22:33:41Z"
      name: gateway
      ready: true
      restartCount: 51
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:47:43Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.15
    podIPs:
    - ip: 10.44.0.15
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: jobs-svc
    creationTimestamp: "2025-04-24T22:35:00Z"
    generateName: jobs-svc-b4bbc5fd5-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: jobs
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: b4bbc5fd5
      release: k10
      run: jobs-svc
    name: jobs-svc-b4bbc5fd5-d8mw2
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: jobs-svc-b4bbc5fd5
      uid: 083a217d-b2ea-4163-a716-6f302444e6b6
    resourceVersion: "723587"
    uid: 4fad27b3-653f-4b58-b2e4-4ffe947b10aa
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: jobs
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/jobs:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: jobs-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: jobs-persistent-storage
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-wb6rh
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - env:
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      image: gcr.io/kasten-images/upgrade:7.5.2
      imagePullPolicy: Always
      name: upgrade-init
      resources:
        requests:
          cpu: 5m
          memory: 20Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - FOWNER
          - CHOWN
        runAsUser: 1000
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: jobs-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-wb6rh
        readOnly: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: jobs-persistent-storage
      persistentVolumeClaim:
        claimName: jobs-pv-claim
    - name: kube-api-access-wb6rh
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:35:03Z"
      message: '0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims.
        preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling.'
      reason: Unschedulable
      status: "False"
      type: PodScheduled
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: kanister-svc
    creationTimestamp: "2025-04-09T21:22:59Z"
    generateName: kanister-svc-7675df7b6c-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: kanister
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7675df7b6c
      release: k10
      run: kanister-svc
    name: kanister-svc-7675df7b6c-pqkk5
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: kanister-svc-7675df7b6c
      uid: a250560d-7874-4356-819f-3999506724b6
    resourceVersion: "729881"
    uid: f132bd85-f783-4015-9d10-2ea1da930d32
  spec:
    containers:
    - env:
      - name: AWS_ACCESS_KEY_ID
        valueFrom:
          secretKeyRef:
            key: aws_access_key_id
            name: aws-creds
            optional: true
      - name: AWS_SECRET_ACCESS_KEY
        valueFrom:
          secretKeyRef:
            key: aws_secret_access_key
            name: aws-creds
            optional: true
      - name: K10_AWS_IAM_ROLE
        valueFrom:
          secretKeyRef:
            key: role
            name: aws-creds
            optional: true
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: kanister
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: DATA_MOVER_IMAGE
        value: gcr.io/kasten-images/datamover:7.5.2
      - name: DATA_STORE_LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: DataStoreLogLevel
            name: k10-config
      - name: DATA_STORE_FILE_LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: DataStoreFileLogLevel
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: K10_DATA_STORE_DISABLE_COMPRESSION
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreDisableCompression
            name: k10-config
      - name: K10_KANISTER_POD_METRICS_IMAGE
        value: gcr.io/kasten-images/metric-sidecar:7.5.2
      - name: TIMEOUT_WORKER_POD_READY
        valueFrom:
          configMapKeyRef:
            key: K10TimeoutWorkerPodReady
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_ENABLED
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarEnabled
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
        valueFrom:
          configMapKeyRef:
            key: WorkerPodPushgatewayMetricsInterval
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryRequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPURequest
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMemoryLimit
            name: k10-config
      - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarCPULimit
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      - name: K10_DEFAULT_PRIORITY_CLASS_NAME
        valueFrom:
          configMapKeyRef:
            key: K10DefaultPriorityClassName
            name: k10-config
      image: gcr.io/kasten-images/kanister:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: kanister-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 100Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-l2djq
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-l2djq
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:22:47Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:22:59Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:56:59Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:56:59Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:22:59Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://2a427608cfdac09380e6f23d59787b2449c5c7eb47c84a1ef24fe2ea443f3a1f
      image: gcr.io/kasten-images/kanister:7.5.2
      imageID: gcr.io/kasten-images/kanister@sha256:fe03d2ced743ef754fbeb8497c2262046033f68567d68f9e682ef034356e4f89
      lastState:
        terminated:
          containerID: containerd://c012e9133658640964b7705c005ed02cfd7bc47e941975dbebc06c7711fd1f09
          exitCode: 0
          finishedAt: "2025-04-25T09:46:10Z"
          reason: Completed
          startedAt: "2025-04-24T22:55:38Z"
      name: kanister-svc
      ready: true
      restartCount: 25
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:56:46Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.14
    podIPs:
    - ip: 10.44.0.14
    qosClass: Burstable
    startTime: "2025-04-09T21:22:59Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: logging-svc
    creationTimestamp: "2025-04-24T22:35:02Z"
    generateName: logging-svc-5c44dd5f85-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: logging
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5c44dd5f85
      release: k10
      run: logging-svc
    name: logging-svc-5c44dd5f85-fglz9
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: logging-svc-5c44dd5f85
      uid: 1827fc7a-b5ef-4121-ad46-1dd22a78c3ba
    resourceVersion: "723602"
    uid: ad72178f-296b-4ed6-b695-115a1103c716
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: logging
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/logging:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: logging-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      - containerPort: 24224
        protocol: TCP
      - containerPort: 24225
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: logging-persistent-storage
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /mnt/conf
        name: logging-configmap-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-wjj7b
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - env:
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      image: gcr.io/kasten-images/upgrade:7.5.2
      imagePullPolicy: Always
      name: upgrade-init
      resources:
        requests:
          cpu: 5m
          memory: 20Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - FOWNER
          - CHOWN
        runAsUser: 1000
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10state
        name: logging-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-wjj7b
        readOnly: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: logging-persistent-storage
      persistentVolumeClaim:
        claimName: logging-pv-claim
    - configMap:
        defaultMode: 420
        name: fluentbit-configmap
      name: logging-configmap-storage
    - name: kube-api-access-wjj7b
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:35:06Z"
      message: '0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims.
        preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling.'
      reason: Unschedulable
      status: "False"
      type: PodScheduled
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
    creationTimestamp: "2025-04-24T22:35:03Z"
    generateName: metering-svc-6545df56dd-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: metering
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 6545df56dd
      release: k10
      run: metering-svc
    name: metering-svc-6545df56dd-m86wh
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: metering-svc-6545df56dd
      uid: 9adf9b21-6bd1-4f93-87ca-ca05f0e45ca7
    resourceVersion: "723709"
    uid: 6c829769-f0ae-41f1-bf2f-803e4b04e25a
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: metering
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: AGENT_CONFIG_FILE
        value: /var/ubbagent/config.yaml
      - name: AGENT_STATE_DIR
        value: /var/reports/ubbagent
      - name: K10_REPORT_COLLECTION_PERIOD
        value: "1800"
      - name: K10_REPORT_PUSH_PERIOD
        value: "3600"
      - name: K10_PROMETHEUS_HOST
        value: prometheus-server-exp
      - name: K10_PROMETHEUS_PORT
        value: "80"
      - name: K10_PROMETHEUS_BASE_URL
        value: /k10/prometheus/
      - name: WORKER_POD_METRIC_SIDECAR_ENABLED
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarEnabled
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_METRIC_LIFETIME
        valueFrom:
          configMapKeyRef:
            key: WorkerPodMetricSidecarMetricLifetime
            name: k10-config
      - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
        valueFrom:
          configMapKeyRef:
            key: WorkerPodPushgatewayMetricsInterval
            name: k10-config
      image: gcr.io/kasten-images/metering:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 90
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: metering-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      resources:
        requests:
          cpu: 12m
          memory: 170Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/ubbagent
        name: meter-config
      - mountPath: /var/reports/
        name: metering-persistent-storage
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-c2grl
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - env:
      - name: MODEL_STORE_DIR
        value: /var/reports/
      image: gcr.io/kasten-images/upgrade:7.5.2
      imagePullPolicy: Always
      name: upgrade-init
      resources:
        requests:
          cpu: 5m
          memory: 20Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - FOWNER
          - CHOWN
        runAsUser: 1000
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/reports/
        name: metering-persistent-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-c2grl
        readOnly: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        items:
        - key: config
          path: config.yaml
        - key: prometheusTargets
          path: prometheusTargets.yaml
        name: k10-k10-metering-config
      name: meter-config
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: metering-persistent-storage
      persistentVolumeClaim:
        claimName: metering-pv-claim
    - name: kube-api-access-c2grl
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:35:26Z"
      message: '0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims.
        preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling.'
      reason: Unschedulable
      status: "False"
      type: PodScheduled
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2025-04-24T22:35:03Z"
    generateName: prometheus-server-74c96977b4-
    labels:
      app: prometheus
      app.kubernetes.io/component: server
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: prometheus
      app.kubernetes.io/part-of: prometheus
      app.kubernetes.io/version: v2.55.0
      component: server
      helm.sh/chart: prometheus-25.28.0
      pod-template-hash: 74c96977b4
      release: k10
    name: prometheus-server-74c96977b4-92nlv
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: prometheus-server-74c96977b4
      uid: 7242af34-8dac-4d1c-9c54-f8d274c3a627
    resourceVersion: "723689"
    uid: dd54ee58-da64-4847-96ef-5d406a4e56f9
  spec:
    containers:
    - args:
      - --watched-dir=/etc/config
      - --listen-address=0.0.0.0:8080
      - --reload-url=http://127.0.0.1:9090/k10/prometheus/-/reload
      image: gcr.io/kasten-images/configmap-reload:7.5.2
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: metrics
          scheme: HTTP
        initialDelaySeconds: 2
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: prometheus-server-configmap-reload
      ports:
      - containerPort: 8080
        name: metrics
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: metrics
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 10m
          memory: 50Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/config
        name: config-volume
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7r6rh
        readOnly: true
    - args:
      - --storage.tsdb.retention.time=30d
      - --config.file=/etc/config/prometheus.yml
      - --storage.tsdb.path=/data
      - --web.console.libraries=/etc/prometheus/console_libraries
      - --web.console.templates=/etc/prometheus/consoles
      - --web.enable-lifecycle
      - --web.route-prefix=/k10/prometheus
      - --web.external-url=/k10/prometheus/
      image: gcr.io/kasten-images/prometheus:7.5.2
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /k10/prometheus/-/healthy
          port: 9090
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 10
      name: prometheus-server
      ports:
      - containerPort: 9090
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /k10/prometheus/-/ready
          port: 9090
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 4
      resources:
        requests:
          cpu: 20m
          memory: 200Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/config
        name: config-volume
      - mountPath: /data
        name: storage-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7r6rh
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 65534
      runAsGroup: 65534
      runAsNonRoot: true
      runAsUser: 65534
    serviceAccount: prometheus-server
    serviceAccountName: prometheus-server
    terminationGracePeriodSeconds: 300
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-k10-prometheus-config
      name: config-volume
    - name: storage-volume
      persistentVolumeClaim:
        claimName: prometheus-server
    - name: kube-api-access-7r6rh
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:35:21Z"
      message: '0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims.
        preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling.'
      reason: Unschedulable
      status: "False"
      type: PodScheduled
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
      checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
      checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
      run: state-svc
    creationTimestamp: "2025-04-09T21:09:46Z"
    generateName: state-svc-7cfd7579dc-
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: state
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7cfd7579dc
      release: k10
      run: state-svc
    name: state-svc-7cfd7579dc-tfjvr
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: state-svc-7cfd7579dc
      uid: 3d28956c-833c-40b7-a133-b5a123c42c92
    resourceVersion: "730174"
    uid: 0593634a-5d65-47f1-9bb8-2bd815dc0174
  spec:
    containers:
    - env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: state
      - name: MODEL_STORE_DIR
        value: /tmp/k10store
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/state:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: state-svc
      ports:
      - containerPort: 8000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8000
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 130Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zl7b6
        readOnly: true
    - args:
      - --port=8001
      - --host=0.0.0.0
      env:
      - name: VERSION
        valueFrom:
          configMapKeyRef:
            key: version
            name: k10-config
      - name: FLUENTBIT_ENDPOINT
        valueFrom:
          configMapKeyRef:
            key: fluentbitEndpoint
            name: k10-config
            optional: true
      - name: K10_CAPABILITIES
        value: ' mc'
      - name: K10_HOST_SVC
        value: state
      - name: MODEL_STORE_DIR
        valueFrom:
          configMapKeyRef:
            key: modelstoredirname
            name: k10-config
      - name: LOG_LEVEL
        valueFrom:
          configMapKeyRef:
            key: loglevel
            name: k10-config
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerAction
            name: k10-config
      - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
        valueFrom:
          configMapKeyRef:
            key: K10LimiterWorkloadSnapshotsPerAction
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelDownload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockUpload
            name: k10-config
      - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreParallelBlockDownload
            name: k10-config
      - name: K10_DATA_STORE_ESTIMATION_TYPE
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreEstimationType
            name: k10-config
      - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreAdaptiveEstimationThreshold
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreGeneralMetadataCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreContentCacheSizeMB
            name: k10-config
      - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
        valueFrom:
          configMapKeyRef:
            key: k10DataStoreRestoreMetadataCacheSizeMB
            name: k10-config
      - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterGenericVolumeBackupsPerCluster
            name: k10-config
      - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterSnapshotExportsPerCluster
            name: k10-config
      - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterVolumeRestoresPerCluster
            name: k10-config
      - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterCsiSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterDirectSnapshotsPerCluster
            name: k10-config
      - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
        valueFrom:
          configMapKeyRef:
            key: K10LimiterImageCopiesPerCluster
            name: k10-config
      - name: K10_EPHEMERAL_PVC_OVERHEAD
        valueFrom:
          configMapKeyRef:
            key: K10EphemeralPVCOverhead
            name: k10-config
      - name: K10_PERSISTENCE_STORAGE_CLASS
        valueFrom:
          configMapKeyRef:
            key: K10PersistenceStorageClass
            name: k10-config
      - name: AWS_ASSUME_ROLE_DURATION
        valueFrom:
          configMapKeyRef:
            key: AWSAssumeRoleDuration
            name: k10-config
      - name: TOKEN_AUTH
        valueFrom:
          secretKeyRef:
            key: auth
            name: k10-token-auth
      - name: KANISTER_TOOLS
        valueFrom:
          configMapKeyRef:
            key: KanisterToolsImage
            name: k10-config
      - name: K10_RELEASE_NAME
        value: k10
      - name: KANISTER_FUNCTION_VERSION
        valueFrom:
          configMapKeyRef:
            key: kanisterFunctionVersion
            name: k10-config
      image: gcr.io/kasten-images/events:7.5.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 300
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: events-svc
      ports:
      - containerPort: 8001
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /v0/healthz
          port: 8001
          scheme: HTTP
        initialDelaySeconds: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        requests:
          cpu: 3m
          memory: 120Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /mnt/k10-features
        name: k10-features
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zl7b6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: worker01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000
      runAsNonRoot: true
      runAsUser: 1000
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: k10-k10
    serviceAccountName: k10-k10
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: k10-features
      name: k10-features
    - name: kube-api-access-zl7b6
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-04-24T22:21:59Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:59:59Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-04-25T09:59:59Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-04-09T21:10:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://fe33c9e99cee81007526f585973c0bde93b88609219ad0963bcd87a27c0e71af
      image: gcr.io/kasten-images/events:7.5.2
      imageID: gcr.io/kasten-images/events@sha256:4d3c0e49e24e92618f412ab6e2c97a9bd48190513ddd4b49e6d7d5e9c83e1069
      lastState:
        terminated:
          containerID: containerd://d06ce32abc34b882eb2c3aabc975635eaed9013ffc66903c023d9ad65d0a3cd3
          exitCode: 0
          finishedAt: "2025-04-25T09:47:23Z"
          reason: Completed
          startedAt: "2025-04-24T22:55:38Z"
      name: events-svc
      ready: true
      restartCount: 19
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:58:03Z"
    - containerID: containerd://e5bcad5c2fbde86d3d15f6e467c293d2c23dac6d8ba519f8cff44a17391b6df4
      image: gcr.io/kasten-images/state:7.5.2
      imageID: gcr.io/kasten-images/state@sha256:b6f08f5219775f15a39f43bfabf2ed5bcbe319fbde926c14b7647a55048c50e8
      lastState:
        terminated:
          containerID: containerd://b756d475ae4fedc5f59dfa64610f41cb0b02b820bda28a9b457bf16ab5b3ab45
          exitCode: 137
          finishedAt: "2025-04-25T09:46:59Z"
          reason: Error
          startedAt: "2025-04-24T22:21:16Z"
      name: state-svc
      ready: true
      restartCount: 23
      started: true
      state:
        running:
          startedAt: "2025-04-25T09:57:39Z"
    hostIP: 192.168.2.151
    hostIPs:
    - ip: 192.168.2.151
    phase: Running
    podIP: 10.44.0.2
    podIPs:
    - ip: 10.44.0.2
    qosClass: Burstable
    startTime: "2025-04-09T21:10:26Z"
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: aggregatedapis
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: aggregatedapis-svc
    name: aggregatedapis-svc
    namespace: kasten-io
    resourceVersion: "112024"
    uid: b804261c-3173-48fc-abac-30c935cff435
  spec:
    clusterIP: 10.103.55.113
    clusterIPs:
    - 10.103.55.113
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 443
      protocol: TCP
      targetPort: 10250
    selector:
      run: aggregatedapis-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: auth
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: auth-svc
    name: auth-svc
    namespace: kasten-io
    resourceVersion: "112008"
    uid: 1b2f4ee1-c48e-4f31-a88f-33f6b3a06507
  spec:
    clusterIP: 10.102.88.74
    clusterIPs:
    - 10.102.88.74
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: auth-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: catalog
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: catalog-svc
    name: catalog-svc
    namespace: kasten-io
    resourceVersion: "112010"
    uid: c0551544-469b-4c18-9f3d-5df6299f1ac9
  spec:
    clusterIP: 10.99.100.130
    clusterIPs:
    - 10.99.100.130
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: catalog-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: controllermanager
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: controllermanager-svc
    name: controllermanager-svc
    namespace: kasten-io
    resourceVersion: "112026"
    uid: f632b7e5-92bc-4eb1-a447-6817fb11b82d
  spec:
    clusterIP: 10.107.166.233
    clusterIPs:
    - 10.107.166.233
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    - name: mc-http
      port: 18000
      protocol: TCP
      targetPort: 18000
    selector:
      run: controllermanager-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: crypto
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: crypto-svc
    name: crypto-svc
    namespace: kasten-io
    resourceVersion: "112014"
    uid: 2549d377-57e7-4893-8bf7-58e7b0a6e0a9
  spec:
    clusterIP: 10.109.173.129
    clusterIPs:
    - 10.109.173.129
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    - name: bloblifecyclemanager
      port: 8001
      protocol: TCP
      targetPort: 8001
    - name: garbagecollector
      port: 8002
      protocol: TCP
      targetPort: 8002
    - name: repositories
      port: 8003
      protocol: TCP
      targetPort: 8003
    selector:
      run: crypto-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: dashboardbff
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: dashboardbff-svc
    name: dashboardbff-svc
    namespace: kasten-io
    resourceVersion: "112016"
    uid: aead910b-e8a7-4e9e-9848-2f8a1ba1a067
  spec:
    clusterIP: 10.100.219.37
    clusterIPs:
    - 10.100.219.37
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    - name: vbrintegrationapi
      port: 8001
      protocol: TCP
      targetPort: 8001
    selector:
      run: dashboardbff-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: executor
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: executor-svc
    name: executor-svc
    namespace: kasten-io
    resourceVersion: "112020"
    uid: 0e2f2e82-0319-4a3c-8a3f-4a586a21bc95
  spec:
    clusterIP: 10.104.159.86
    clusterIPs:
    - 10.104.159.86
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: executor-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: frontend
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: frontend-svc
    name: frontend-svc
    namespace: kasten-io
    resourceVersion: "112022"
    uid: 9fe8800a-a54b-4502-8528-034af6230a02
  spec:
    clusterIP: 10.111.191.42
    clusterIPs:
    - 10.111.191.42
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: frontend-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      service: gateway
    name: gateway
    namespace: kasten-io
    resourceVersion: "112004"
    uid: 037998f4-e5a3-4577-816d-48f06cc6912f
  spec:
    clusterIP: 10.101.178.17
    clusterIPs:
    - 10.101.178.17
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 8000
    selector:
      service: gateway
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{"meta.helm.sh/release-name":"k10","meta.helm.sh/release-namespace":"kasten-io"},"labels":{"app":"k10","app.kubernetes.io/instance":"k10","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"k10","helm.sh/chart":"k10-7.5.2","heritage":"Helm","release":"k10","service":"gateway"},"name":"gateway-ext","namespace":"kasten-io"},"spec":{"clusterIP":"10.103.79.48","clusterIPs":["10.103.79.48"],"externalTrafficPolicy":"Cluster","internalTrafficPolicy":"Cluster","ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","ports":[{"name":"https","nodePort":31001,"port":80,"protocol":"TCP","targetPort":8000}],"selector":{"service":"gateway"},"sessionAffinity":"None","type":"NodePort"}}
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      service: gateway
    name: gateway-ext
    namespace: kasten-io
    resourceVersion: "301858"
    uid: ab99fece-6bbe-411f-ba42-7c38ca1dd43b
  spec:
    clusterIP: 10.103.79.48
    clusterIPs:
    - 10.103.79.48
    externalTrafficPolicy: Cluster
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: https
      nodePort: 31001
      port: 80
      protocol: TCP
      targetPort: 8000
    selector:
      service: gateway
    sessionAffinity: None
    type: NodePort
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: jobs
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: jobs-svc
    name: jobs-svc
    namespace: kasten-io
    resourceVersion: "112028"
    uid: 4b64cbba-585c-4555-8a82-0cbe31161565
  spec:
    clusterIP: 10.102.98.193
    clusterIPs:
    - 10.102.98.193
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: jobs-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: kanister
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: kanister-svc
    name: kanister-svc
    namespace: kasten-io
    resourceVersion: "111996"
    uid: dfb5695f-f7ed-4ba9-b5d0-4cf85eadc446
  spec:
    clusterIP: 10.99.224.252
    clusterIPs:
    - 10.99.224.252
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: kanister-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: logging
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: logging-svc
    name: logging-svc
    namespace: kasten-io
    resourceVersion: "112030"
    uid: 005fd17d-ccb0-4e7a-b7da-2ba6ea2c540f
  spec:
    clusterIP: 10.102.16.130
    clusterIPs:
    - 10.102.16.130
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    - name: logging
      port: 24224
      protocol: TCP
      targetPort: 24224
    - name: logging-metrics
      port: 24225
      protocol: TCP
      targetPort: 24225
    selector:
      run: logging-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: metering
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: metering-svc
    name: metering-svc
    namespace: kasten-io
    resourceVersion: "112012"
    uid: 23ba3e63-b9d5-4576-92e8-8ce0a7899a8b
  spec:
    clusterIP: 10.97.198.159
    clusterIPs:
    - 10.97.198.159
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    selector:
      run: metering-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: prometheus
      app.kubernetes.io/component: server
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: prometheus
      app.kubernetes.io/part-of: prometheus
      app.kubernetes.io/version: v2.55.0
      component: server
      helm.sh/chart: prometheus-25.28.0
      release: k10
    name: prometheus-server
    namespace: kasten-io
    resourceVersion: "112001"
    uid: ccdee13f-b05a-4c2b-a1dc-3567cf212f7d
  spec:
    clusterIP: 10.103.105.255
    clusterIPs:
    - 10.103.105.255
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 9090
    selector:
      app: prometheus
      component: server
      release: k10
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: prometheus-server
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: prometheus-server
    name: prometheus-server-exp
    namespace: kasten-io
    resourceVersion: "112006"
    uid: 3311e48d-dbb3-473a-a6d3-c88ad110654b
  spec:
    clusterIP: 10.108.42.110
    clusterIPs:
    - 10.108.42.110
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 9090
    selector:
      app: prometheus
      component: server
      release: k10
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:06Z"
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: state
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
      run: state-svc
    name: state-svc
    namespace: kasten-io
    resourceVersion: "112018"
    uid: b29d5cf7-ae5f-48b2-8fee-bf4de25c9ca8
  spec:
    clusterIP: 10.98.39.115
    clusterIPs:
    - 10.98.39.115
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    - name: events
      port: 8001
      protocol: TCP
      targetPort: 8001
    selector:
      run: state-svc
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: aggregatedapis
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: aggregatedapis-svc
    namespace: kasten-io
    resourceVersion: "723544"
    uid: 021fa5ab-7a55-4995-ae57-d716cdaf4f67
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: aggregatedapis
        release: k10
        run: aggregatedapis-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: aggregatedapis-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: aggregatedapis
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: aggregatedapis-svc
      spec:
        containers:
        - args:
          - --secure-port=10250
          - --cert-dir=/tmp/apiserver.local.config/certificates/
          - --audit-policy-file=/etc/kubernetes/agg-audit-policy.yaml
          - --enable-k10-audit-cloud-aws-s3=true
          - --audit-cloud-path=k10audit/
          - --enable-k10-audit-cluster=true
          - --audit-log-file=-
          - --audit-log-file-size=100
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: aggregatedapis
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/aggregatedapis:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 10250
            timeoutSeconds: 5
          name: aggregatedapis-svc
          ports:
          - containerPort: 10250
            protocol: TCP
          resources:
            requests:
              cpu: 90m
              memory: 180Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /etc/kubernetes/agg-audit-policy.yaml
            name: aggauditpolicy-config
            readOnly: true
            subPath: agg-audit-policy.yaml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - configMap:
            defaultMode: 420
            name: aggauditpolicy-config
          name: aggauditpolicy-config
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T15:44:26Z"
      lastUpdateTime: "2025-01-18T15:44:26Z"
      message: ReplicaSet "aggregatedapis-svc-7c977dcc7f" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-24T22:34:57Z"
      lastUpdateTime: "2025-04-24T22:34:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: auth
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: auth-svc
    namespace: kasten-io
    resourceVersion: "730417"
    uid: ac921b5c-f295-4882-b2a3-a5b58b8f9c47
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: auth
        release: k10
        run: auth-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: auth-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: auth
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: auth-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: auth
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/auth:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: auth-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T14:45:47Z"
      lastUpdateTime: "2025-01-18T14:45:47Z"
      message: ReplicaSet "auth-svc-8565775c8" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T10:01:26Z"
      lastUpdateTime: "2025-04-25T10:01:26Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: catalog
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: catalog-svc
    namespace: kasten-io
    resourceVersion: "725331"
    uid: e2da5365-adfb-4047-b4e2-b0999b769abd
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: catalog
        release: k10
        run: catalog-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: catalog-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: catalog
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: catalog-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: catalog
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/catalog:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: catalog-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 6m
              memory: 150Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        - env:
          - name: K10_CAPABILITIES
            value: ' mc'
          image: gcr.io/kasten-images/kanister-tools:7.5.2
          imagePullPolicy: Always
          name: kanister-sidecar
          resources:
            limits:
              cpu: 1200m
              memory: 800Mi
            requests:
              cpu: 100m
              memory: 800Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        - env:
          - name: INIT_CONTAINER
            value: "true"
          - name: K10_RELEASE_NAME
            value: k10
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          image: gcr.io/kasten-images/catalog:7.5.2
          imagePullPolicy: Always
          name: schema-upgrade-check
          resources:
            requests:
              cpu: 6m
              memory: 150Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: catalog-persistent-storage
          persistentVolumeClaim:
            claimName: catalog-pv-claim
  status:
    conditions:
    - lastTransitionTime: "2025-01-18T14:34:57Z"
      lastUpdateTime: "2025-01-18T14:34:57Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    - lastTransitionTime: "2025-04-24T22:51:15Z"
      lastUpdateTime: "2025-04-24T22:51:15Z"
      message: ReplicaSet "catalog-svc-56b75dbc48" has timed out progressing.
      reason: ProgressDeadlineExceeded
      status: "False"
      type: Progressing
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: controllermanager
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: controllermanager-svc
    namespace: kasten-io
    resourceVersion: "745651"
    uid: 281c0afd-8544-41ec-af43-efc64f56a4a8
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: controllermanager
        release: k10
        run: controllermanager-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: controllermanager-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: controllermanager
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: controllermanager-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: controllermanager
          - name: K10_STATEFUL
            value: "true"
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/controllermanager:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: controllermanager-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          - containerPort: 18000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 9m
              memory: 160Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T14:34:39Z"
      lastUpdateTime: "2025-01-18T14:42:27Z"
      message: ReplicaSet "controllermanager-svc-5f9878478" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T16:15:36Z"
      lastUpdateTime: "2025-04-25T16:15:36Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: crypto
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: crypto-svc
    namespace: kasten-io
    resourceVersion: "730037"
    uid: e3255822-da3e-40cd-a931-03510d527a27
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: crypto
        release: k10
        run: crypto-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: crypto-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: crypto
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: crypto-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/crypto:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: crypto-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/bloblifecyclemanager:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: bloblifecyclemanager-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8002
          - --host=0.0.0.0
          env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_GC_DAEMON_PERIOD
            valueFrom:
              configMapKeyRef:
                key: K10GCDaemonPeriod
                name: k10-config
          - name: K10_GC_KEEP_MAX_ACTIONS
            valueFrom:
              configMapKeyRef:
                key: K10GCKeepMaxActions
                name: k10-config
          - name: K10_GC_ACTIONS_ENABLED
            valueFrom:
              configMapKeyRef:
                key: K10GCActionsEnabled
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/garbagecollector:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8002
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: garbagecollector-svc
          ports:
          - containerPort: 8002
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8002
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8003
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          image: gcr.io/kasten-images/repositories:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8003
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: repositories-svc
          ports:
          - containerPort: 8003
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8003
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T16:02:52Z"
      lastUpdateTime: "2025-01-18T16:02:52Z"
      message: ReplicaSet "crypto-svc-74bf864fb9" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T09:59:05Z"
      lastUpdateTime: "2025-04-25T09:59:05Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: dashboardbff
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: dashboardbff-svc
    namespace: kasten-io
    resourceVersion: "750897"
    uid: 9644ac5f-d1a0-4f78-960b-a6248b1eb5e2
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: dashboardbff
        release: k10
        run: dashboardbff-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: dashboardbff-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: dashboardbff
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: dashboardbff-svc
      spec:
        containers:
        - env:
          - name: K10_DISABLED_SERVICES
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: dashboardbff
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/dashboardbff:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: dashboardbff-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 9m
              memory: 170Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: dashboardbff
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/vbrintegrationapi:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: vbrintegrationapi-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T15:55:44Z"
      lastUpdateTime: "2025-01-18T15:55:44Z"
      message: ReplicaSet "dashboardbff-svc-7cb8795f4" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T17:06:02Z"
      lastUpdateTime: "2025-04-25T17:06:02Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: executor
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: executor-svc
    namespace: kasten-io
    resourceVersion: "730033"
    uid: 77225b5c-8651-4226-85a2-ca598c3646b6
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: executor
        release: k10
        run: executor-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: executor-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: executor
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: executor-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: executor
          - name: KUBEVIRT_VM_UNFREEZE_TIMEOUT
            valueFrom:
              configMapKeyRef:
                key: kubeVirtVMsUnFreezeTimeout
                name: k10-config
          - name: QUICK_DISASTER_RECOVERY_ENABLED
            valueFrom:
              configMapKeyRef:
                key: quickDisasterRecoveryEnabled
                name: k10-config
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: DATA_MOVER_IMAGE
            value: gcr.io/kasten-images/datamover:7.5.2
          - name: DATA_STORE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreLogLevel
                name: k10-config
          - name: DATA_STORE_FILE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreFileLogLevel
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: K10_LIMITER_EXECUTOR_THREADS
            valueFrom:
              configMapKeyRef:
                key: K10LimiterExecutorThreads
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOT_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotRestoresPerAction
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadRestoresPerAction
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_BACKUP
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintBackup
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_RESTORE
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintRestore
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_DELETE
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintDelete
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_HOOKS
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintHooks
                name: k10-config
          - name: K10_TIMEOUT_CHECK_REPO_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutCheckRepoPodReady
                name: k10-config
          - name: K10_TIMEOUT_STATS_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutStatsPodReady
                name: k10-config
          - name: K10_TIMEOUT_EFS_RESTORE_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutEFSRestorePodReady
                name: k10-config
          - name: KANISTER_MANAGED_DATA_SERVICES_BLUEPRINTS_ENABLED
            valueFrom:
              configMapKeyRef:
                key: KanisterManagedDataServicesBlueprintsEnabled
                name: k10-config
          - name: K10_FORCE_ROOT_IN_BLUEPRINT_ACTIONS
            valueFrom:
              configMapKeyRef:
                key: K10ForceRootInBlueprintActions
                name: k10-config
          - name: EFS_BACKUP_VAULT_NAME
            valueFrom:
              configMapKeyRef:
                key: efsBackupVaultName
                name: k10-config
          - name: VMWARE_GOM_TIMEOUT_MIN
            valueFrom:
              configMapKeyRef:
                key: vmWareTaskTimeoutMin
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/executor:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: executor-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 160Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /tmp
            name: datastore-cache-vol
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - emptyDir: {}
          name: datastore-cache-vol
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T14:51:44Z"
      lastUpdateTime: "2025-01-18T14:51:44Z"
      message: ReplicaSet "executor-svc-56545cf6f9" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T09:59:06Z"
      lastUpdateTime: "2025-04-25T09:59:06Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: frontend
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: frontend-svc
    namespace: kasten-io
    resourceVersion: "730031"
    uid: 7bd62af7-1235-4d28-98c4-3d3053281c40
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: frontend
        release: k10
        run: frontend-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: frontend-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: frontend
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: frontend-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: frontend
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/frontend:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: frontend-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 1m
              memory: 40Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /etc/nginx/nginx.conf
            name: frontend-config
            readOnly: true
            subPath: nginx.conf
          - mountPath: /etc/nginx/conf.d/frontend.conf
            name: frontend-config
            readOnly: true
            subPath: frontend.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - configMap:
            defaultMode: 420
            name: frontend-config
          name: frontend-config
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T14:46:58Z"
      lastUpdateTime: "2025-01-18T14:46:58Z"
      message: ReplicaSet "frontend-svc-5666d7b958" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T09:59:02Z"
      lastUpdateTime: "2025-04-25T09:59:02Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: gateway
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: gateway
    namespace: kasten-io
    resourceVersion: "723560"
    uid: 5ddc59e4-ad47-4c18-921c-8f7ec0c52e51
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        service: gateway
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: gateway
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          service: gateway
      spec:
        containers:
        - env:
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: K10_CAPABILITIES
            value: ' mc'
          envFrom:
          - configMapRef:
              name: k10-gateway
          image: gcr.io/kasten-images/gateway:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: gateway
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 1Gi
            requests:
              cpu: 200m
              memory: 300Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T14:57:23Z"
      lastUpdateTime: "2025-01-18T14:57:23Z"
      message: ReplicaSet "gateway-5bff7c7765" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-24T22:34:59Z"
      lastUpdateTime: "2025-04-24T22:34:59Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: jobs
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: jobs-svc
    namespace: kasten-io
    resourceVersion: "725334"
    uid: c583b6b8-0f69-4655-bfbc-fa92dc8af13b
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: jobs
        release: k10
        run: jobs-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: jobs-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: jobs
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: jobs-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: jobs
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/jobs:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: jobs-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: jobs-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: jobs-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: jobs-persistent-storage
          persistentVolumeClaim:
            claimName: jobs-pv-claim
  status:
    conditions:
    - lastTransitionTime: "2025-01-18T14:35:09Z"
      lastUpdateTime: "2025-01-18T14:35:09Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    - lastTransitionTime: "2025-04-24T22:51:15Z"
      lastUpdateTime: "2025-04-24T22:51:15Z"
      message: ReplicaSet "jobs-svc-b4bbc5fd5" has timed out progressing.
      reason: ProgressDeadlineExceeded
      status: "False"
      type: Progressing
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: kanister
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: kanister-svc
    namespace: kasten-io
    resourceVersion: "730039"
    uid: 61075b79-4049-431d-a36f-6b52d0e8cfe9
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: kanister
        release: k10
        run: kanister-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: kanister-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: kanister
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: kanister-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: kanister
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: DATA_MOVER_IMAGE
            value: gcr.io/kasten-images/datamover:7.5.2
          - name: DATA_STORE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreLogLevel
                name: k10-config
          - name: DATA_STORE_FILE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreFileLogLevel
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          image: gcr.io/kasten-images/kanister:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: kanister-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 100Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T15:52:02Z"
      lastUpdateTime: "2025-01-18T15:52:02Z"
      message: ReplicaSet "kanister-svc-7675df7b6c" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T09:59:09Z"
      lastUpdateTime: "2025-04-25T09:59:09Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: logging
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: logging-svc
    namespace: kasten-io
    resourceVersion: "725332"
    uid: 2a27f31d-25c1-44ce-bce2-ebb3ab25e5e7
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: logging
        release: k10
        run: logging-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: logging-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: logging
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: logging-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: logging
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/logging:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: logging-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          - containerPort: 24224
            protocol: TCP
          - containerPort: 24225
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: logging-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /mnt/conf
            name: logging-configmap-storage
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: logging-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: logging-persistent-storage
          persistentVolumeClaim:
            claimName: logging-pv-claim
        - configMap:
            defaultMode: 420
            name: fluentbit-configmap
          name: logging-configmap-storage
  status:
    conditions:
    - lastTransitionTime: "2025-01-18T14:35:02Z"
      lastUpdateTime: "2025-01-18T14:35:02Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    - lastTransitionTime: "2025-04-24T22:51:15Z"
      lastUpdateTime: "2025-04-24T22:51:15Z"
      message: ReplicaSet "logging-svc-5c44dd5f85" has timed out progressing.
      reason: ProgressDeadlineExceeded
      status: "False"
      type: Progressing
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: metering
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: metering-svc
    namespace: kasten-io
    resourceVersion: "725333"
    uid: 56c898e4-162f-4e65-9dd6-d836d5f4cc3f
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: metering
        release: k10
        run: metering-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: metering
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: metering-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: metering
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: AGENT_CONFIG_FILE
            value: /var/ubbagent/config.yaml
          - name: AGENT_STATE_DIR
            value: /var/reports/ubbagent
          - name: K10_REPORT_COLLECTION_PERIOD
            value: "1800"
          - name: K10_REPORT_PUSH_PERIOD
            value: "3600"
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRIC_LIFETIME
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMetricLifetime
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          image: gcr.io/kasten-images/metering:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 90
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: metering-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          resources:
            requests:
              cpu: 12m
              memory: 170Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/ubbagent
            name: meter-config
          - mountPath: /var/reports/
            name: metering-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            value: /var/reports/
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/reports/
            name: metering-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: config
              path: config.yaml
            - key: prometheusTargets
              path: prometheusTargets.yaml
            name: k10-k10-metering-config
          name: meter-config
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: metering-persistent-storage
          persistentVolumeClaim:
            claimName: metering-pv-claim
  status:
    conditions:
    - lastTransitionTime: "2025-01-18T14:35:02Z"
      lastUpdateTime: "2025-01-18T14:35:02Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    - lastTransitionTime: "2025-04-24T22:51:15Z"
      lastUpdateTime: "2025-04-24T22:51:15Z"
      message: ReplicaSet "metering-svc-6545df56dd" has timed out progressing.
      reason: ProgressDeadlineExceeded
      status: "False"
      type: Progressing
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: prometheus
      app.kubernetes.io/component: server
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: prometheus
      app.kubernetes.io/part-of: prometheus
      app.kubernetes.io/version: v2.55.0
      component: server
      helm.sh/chart: prometheus-25.28.0
      release: k10
    name: prometheus-server
    namespace: kasten-io
    resourceVersion: "725342"
    uid: d2615e08-e0d8-4c0d-ac8d-f23a19a1eb26
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: prometheus
        component: server
        release: k10
    strategy:
      type: Recreate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: prometheus
          app.kubernetes.io/component: server
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: prometheus
          app.kubernetes.io/part-of: prometheus
          app.kubernetes.io/version: v2.55.0
          component: server
          helm.sh/chart: prometheus-25.28.0
          release: k10
      spec:
        containers:
        - args:
          - --watched-dir=/etc/config
          - --listen-address=0.0.0.0:8080
          - --reload-url=http://127.0.0.1:9090/k10/prometheus/-/reload
          image: gcr.io/kasten-images/configmap-reload:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: metrics
              scheme: HTTP
            initialDelaySeconds: 2
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: prometheus-server-configmap-reload
          ports:
          - containerPort: 8080
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: metrics
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 10m
              memory: 50Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=30d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          - --web.route-prefix=/k10/prometheus
          - --web.external-url=/k10/prometheus/
          image: gcr.io/kasten-images/prometheus:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /k10/prometheus/-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /k10/prometheus/-/ready
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources:
            requests:
              cpu: 20m
              memory: 200Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus-server
        serviceAccountName: prometheus-server
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-k10-prometheus-config
          name: config-volume
        - name: storage-volume
          persistentVolumeClaim:
            claimName: prometheus-server
  status:
    conditions:
    - lastTransitionTime: "2025-01-18T14:35:01Z"
      lastUpdateTime: "2025-01-18T14:35:01Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    - lastTransitionTime: "2025-04-24T22:51:20Z"
      lastUpdateTime: "2025-04-24T22:51:20Z"
      message: ReplicaSet "prometheus-server-74c96977b4" has timed out progressing.
      reason: ProgressDeadlineExceeded
      status: "False"
      type: Progressing
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:12Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: state
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      release: k10
    name: state-svc
    namespace: kasten-io
    resourceVersion: "730178"
    uid: 4ca5e21e-4e39-4501-ba80-97a549216969
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: k10
        component: state
        release: k10
        run: state-svc
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: state-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: state
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          release: k10
          run: state-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: state
          - name: MODEL_STORE_DIR
            value: /tmp/k10store
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/state:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: state-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: state
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/events:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: events-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-01-18T16:00:32Z"
      lastUpdateTime: "2025-01-18T16:00:32Z"
      message: ReplicaSet "state-svc-7cfd7579dc" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-04-25T09:59:58Z"
      lastUpdateTime: "2025-04-25T09:59:58Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:36Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: aggregatedapis
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7c977dcc7f
      release: k10
      run: aggregatedapis-svc
    name: aggregatedapis-svc-7c977dcc7f
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: aggregatedapis-svc
      uid: 021fa5ab-7a55-4995-ae57-d716cdaf4f67
    resourceVersion: "723510"
    uid: 79ceed92-0df1-4679-886e-cdc0ce2f2652
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: aggregatedapis
        pod-template-hash: 7c977dcc7f
        release: k10
        run: aggregatedapis-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: aggregatedapis-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: aggregatedapis
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 7c977dcc7f
          release: k10
          run: aggregatedapis-svc
      spec:
        containers:
        - args:
          - --secure-port=10250
          - --cert-dir=/tmp/apiserver.local.config/certificates/
          - --audit-policy-file=/etc/kubernetes/agg-audit-policy.yaml
          - --enable-k10-audit-cloud-aws-s3=true
          - --audit-cloud-path=k10audit/
          - --enable-k10-audit-cluster=true
          - --audit-log-file=-
          - --audit-log-file-size=100
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: aggregatedapis
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/aggregatedapis:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 10250
            timeoutSeconds: 5
          name: aggregatedapis-svc
          ports:
          - containerPort: 10250
            protocol: TCP
          resources:
            requests:
              cpu: 90m
              memory: 180Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /etc/kubernetes/agg-audit-policy.yaml
            name: aggauditpolicy-config
            readOnly: true
            subPath: agg-audit-policy.yaml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - configMap:
            defaultMode: 420
            name: aggauditpolicy-config
          name: aggauditpolicy-config
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:36Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: auth
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 8565775c8
      release: k10
      run: auth-svc
    name: auth-svc-8565775c8
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: auth-svc
      uid: ac921b5c-f295-4882-b2a3-a5b58b8f9c47
    resourceVersion: "730415"
    uid: 331658f5-cbc7-4dd8-b447-cd8e1d2b4761
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: auth
        pod-template-hash: 8565775c8
        release: k10
        run: auth-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: auth-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: auth
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 8565775c8
          release: k10
          run: auth-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: auth
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/auth:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: auth-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:36Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: catalog
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 56b75dbc48
      release: k10
      run: catalog-svc
    name: catalog-svc-56b75dbc48
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: catalog-svc
      uid: e2da5365-adfb-4047-b4e2-b0999b769abd
    resourceVersion: "723703"
    uid: 14391970-d72e-42f7-9ff2-0a4a2cc7d674
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: catalog
        pod-template-hash: 56b75dbc48
        release: k10
        run: catalog-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: catalog-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: catalog
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 56b75dbc48
          release: k10
          run: catalog-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: catalog
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/catalog:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: catalog-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 6m
              memory: 150Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        - env:
          - name: K10_CAPABILITIES
            value: ' mc'
          image: gcr.io/kasten-images/kanister-tools:7.5.2
          imagePullPolicy: Always
          name: kanister-sidecar
          resources:
            limits:
              cpu: 1200m
              memory: 800Mi
            requests:
              cpu: 100m
              memory: 800Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        - env:
          - name: INIT_CONTAINER
            value: "true"
          - name: K10_RELEASE_NAME
            value: k10
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          image: gcr.io/kasten-images/catalog:7.5.2
          imagePullPolicy: Always
          name: schema-upgrade-check
          resources:
            requests:
              cpu: 6m
              memory: 150Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: catalog-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: catalog-persistent-storage
          persistentVolumeClaim:
            claimName: catalog-pv-claim
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:36Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: controllermanager
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5f9878478
      release: k10
      run: controllermanager-svc
    name: controllermanager-svc-5f9878478
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: controllermanager-svc
      uid: 281c0afd-8544-41ec-af43-efc64f56a4a8
    resourceVersion: "745647"
    uid: 47b2a20f-9f6c-4ce1-9100-0deb7f119db1
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: controllermanager
        pod-template-hash: 5f9878478
        release: k10
        run: controllermanager-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: controllermanager-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: controllermanager
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 5f9878478
          release: k10
          run: controllermanager-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: controllermanager
          - name: K10_STATEFUL
            value: "true"
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/controllermanager:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: controllermanager-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          - containerPort: 18000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 9m
              memory: 160Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:36Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: crypto
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 74bf864fb9
      release: k10
      run: crypto-svc
    name: crypto-svc-74bf864fb9
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: crypto-svc
      uid: e3255822-da3e-40cd-a931-03510d527a27
    resourceVersion: "730004"
    uid: fca66676-57d4-4f53-acb1-8ca0b6a3edf5
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: crypto
        pod-template-hash: 74bf864fb9
        release: k10
        run: crypto-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: crypto-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: crypto
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 74bf864fb9
          release: k10
          run: crypto-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/crypto:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: crypto-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/bloblifecyclemanager:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: bloblifecyclemanager-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8002
          - --host=0.0.0.0
          env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_GC_DAEMON_PERIOD
            valueFrom:
              configMapKeyRef:
                key: K10GCDaemonPeriod
                name: k10-config
          - name: K10_GC_KEEP_MAX_ACTIONS
            valueFrom:
              configMapKeyRef:
                key: K10GCKeepMaxActions
                name: k10-config
          - name: K10_GC_ACTIONS_ENABLED
            valueFrom:
              configMapKeyRef:
                key: K10GCActionsEnabled
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/garbagecollector:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8002
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: garbagecollector-svc
          ports:
          - containerPort: 8002
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8002
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8003
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: crypto
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          image: gcr.io/kasten-images/repositories:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8003
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: repositories-svc
          ports:
          - containerPort: 8003
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8003
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:43Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: dashboardbff
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7cb8795f4
      release: k10
      run: dashboardbff-svc
    name: dashboardbff-svc-7cb8795f4
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: dashboardbff-svc
      uid: 9644ac5f-d1a0-4f78-960b-a6248b1eb5e2
    resourceVersion: "750896"
    uid: f3616d6f-6864-4b61-9a06-28e0a452a481
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: dashboardbff
        pod-template-hash: 7cb8795f4
        release: k10
        run: dashboardbff-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: dashboardbff-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: dashboardbff
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 7cb8795f4
          release: k10
          run: dashboardbff-svc
      spec:
        containers:
        - env:
          - name: K10_DISABLED_SERVICES
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: dashboardbff
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/dashboardbff:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: dashboardbff-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 9m
              memory: 170Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: dashboardbff
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/vbrintegrationapi:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: vbrintegrationapi-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:43Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: executor
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 56545cf6f9
      release: k10
      run: executor-svc
    name: executor-svc-56545cf6f9
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: executor-svc
      uid: 77225b5c-8651-4226-85a2-ca598c3646b6
    resourceVersion: "730005"
    uid: f8ca97d3-1eba-458f-8cd6-71ae2422007a
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: executor
        pod-template-hash: 56545cf6f9
        release: k10
        run: executor-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: executor-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: executor
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 56545cf6f9
          release: k10
          run: executor-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: executor
          - name: KUBEVIRT_VM_UNFREEZE_TIMEOUT
            valueFrom:
              configMapKeyRef:
                key: kubeVirtVMsUnFreezeTimeout
                name: k10-config
          - name: QUICK_DISASTER_RECOVERY_ENABLED
            valueFrom:
              configMapKeyRef:
                key: quickDisasterRecoveryEnabled
                name: k10-config
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: DATA_MOVER_IMAGE
            value: gcr.io/kasten-images/datamover:7.5.2
          - name: DATA_STORE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreLogLevel
                name: k10-config
          - name: DATA_STORE_FILE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreFileLogLevel
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: K10_LIMITER_EXECUTOR_THREADS
            valueFrom:
              configMapKeyRef:
                key: K10LimiterExecutorThreads
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOT_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotRestoresPerAction
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_RESTORES_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadRestoresPerAction
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_BACKUP
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintBackup
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_RESTORE
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintRestore
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_DELETE
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintDelete
                name: k10-config
          - name: K10_TIMEOUT_BLUEPRINT_HOOKS
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutBlueprintHooks
                name: k10-config
          - name: K10_TIMEOUT_CHECK_REPO_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutCheckRepoPodReady
                name: k10-config
          - name: K10_TIMEOUT_STATS_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutStatsPodReady
                name: k10-config
          - name: K10_TIMEOUT_EFS_RESTORE_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutEFSRestorePodReady
                name: k10-config
          - name: KANISTER_MANAGED_DATA_SERVICES_BLUEPRINTS_ENABLED
            valueFrom:
              configMapKeyRef:
                key: KanisterManagedDataServicesBlueprintsEnabled
                name: k10-config
          - name: K10_FORCE_ROOT_IN_BLUEPRINT_ACTIONS
            valueFrom:
              configMapKeyRef:
                key: K10ForceRootInBlueprintActions
                name: k10-config
          - name: EFS_BACKUP_VAULT_NAME
            valueFrom:
              configMapKeyRef:
                key: efsBackupVaultName
                name: k10-config
          - name: VMWARE_GOM_TIMEOUT_MIN
            valueFrom:
              configMapKeyRef:
                key: vmWareTaskTimeoutMin
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          image: gcr.io/kasten-images/executor:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: executor-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 160Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /tmp
            name: datastore-cache-vol
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - emptyDir: {}
          name: datastore-cache-vol
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:43Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: frontend
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5666d7b958
      release: k10
      run: frontend-svc
    name: frontend-svc-5666d7b958
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: frontend-svc
      uid: 7bd62af7-1235-4d28-98c4-3d3053281c40
    resourceVersion: "729999"
    uid: cda91d73-0b93-4fe1-9fc3-f0d01da1bcfe
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: frontend
        pod-template-hash: 5666d7b958
        release: k10
        run: frontend-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: frontend-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: frontend
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 5666d7b958
          release: k10
          run: frontend-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: frontend
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/frontend:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: frontend-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 1m
              memory: 40Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /etc/nginx/nginx.conf
            name: frontend-config
            readOnly: true
            subPath: nginx.conf
          - mountPath: /etc/nginx/conf.d/frontend.conf
            name: frontend-config
            readOnly: true
            subPath: frontend.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - configMap:
            defaultMode: 420
            name: frontend-config
          name: frontend-config
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:43Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: gateway
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5bff7c7765
      release: k10
      service: gateway
    name: gateway-5bff7c7765
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: gateway
      uid: 5ddc59e4-ad47-4c18-921c-8f7ec0c52e51
    resourceVersion: "723534"
    uid: 6cbdb159-df75-434d-8f94-5ee56d40e44f
  spec:
    replicas: 1
    selector:
      matchLabels:
        pod-template-hash: 5bff7c7765
        service: gateway
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: gateway
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 5bff7c7765
          release: k10
          service: gateway
      spec:
        containers:
        - env:
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: K10_CAPABILITIES
            value: ' mc'
          envFrom:
          - configMapRef:
              name: k10-gateway
          image: gcr.io/kasten-images/gateway:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: gateway
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 1Gi
            requests:
              cpu: 200m
              memory: 300Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:43Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: jobs
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: b4bbc5fd5
      release: k10
      run: jobs-svc
    name: jobs-svc-b4bbc5fd5
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: jobs-svc
      uid: c583b6b8-0f69-4655-bfbc-fa92dc8af13b
    resourceVersion: "723694"
    uid: 083a217d-b2ea-4163-a716-6f302444e6b6
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: jobs
        pod-template-hash: b4bbc5fd5
        release: k10
        run: jobs-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: jobs-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: jobs
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: b4bbc5fd5
          release: k10
          run: jobs-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: jobs
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/jobs:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: jobs-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: jobs-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: jobs-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: jobs-persistent-storage
          persistentVolumeClaim:
            claimName: jobs-pv-claim
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:50Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: kanister
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7675df7b6c
      release: k10
      run: kanister-svc
    name: kanister-svc-7675df7b6c
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: kanister-svc
      uid: 61075b79-4049-431d-a36f-6b52d0e8cfe9
    resourceVersion: "730023"
    uid: a250560d-7874-4356-819f-3999506724b6
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: kanister
        pod-template-hash: 7675df7b6c
        release: k10
        run: kanister-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: kanister-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: kanister
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 7675df7b6c
          release: k10
          run: kanister-svc
      spec:
        containers:
        - env:
          - name: AWS_ACCESS_KEY_ID
            valueFrom:
              secretKeyRef:
                key: aws_access_key_id
                name: aws-creds
                optional: true
          - name: AWS_SECRET_ACCESS_KEY
            valueFrom:
              secretKeyRef:
                key: aws_secret_access_key
                name: aws-creds
                optional: true
          - name: K10_AWS_IAM_ROLE
            valueFrom:
              secretKeyRef:
                key: role
                name: aws-creds
                optional: true
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: kanister
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: DATA_MOVER_IMAGE
            value: gcr.io/kasten-images/datamover:7.5.2
          - name: DATA_STORE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreLogLevel
                name: k10-config
          - name: DATA_STORE_FILE_LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: DataStoreFileLogLevel
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: K10_DATA_STORE_DISABLE_COMPRESSION
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreDisableCompression
                name: k10-config
          - name: K10_KANISTER_POD_METRICS_IMAGE
            value: gcr.io/kasten-images/metric-sidecar:7.5.2
          - name: TIMEOUT_WORKER_POD_READY
            valueFrom:
              configMapKeyRef:
                key: K10TimeoutWorkerPodReady
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryRequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_REQUEST
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPURequest
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_MEMORY_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMemoryLimit
                name: k10-config
          - name: K10_WORKER_POD_METRIC_SIDECAR_CPU_LIMIT
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarCPULimit
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          - name: K10_DEFAULT_PRIORITY_CLASS_NAME
            valueFrom:
              configMapKeyRef:
                key: K10DefaultPriorityClassName
                name: k10-config
          image: gcr.io/kasten-images/kanister:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: kanister-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 100Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:52Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: logging
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 5c44dd5f85
      release: k10
      run: logging-svc
    name: logging-svc-5c44dd5f85
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: logging-svc
      uid: 2a27f31d-25c1-44ce-bce2-ebb3ab25e5e7
    resourceVersion: "723704"
    uid: 1827fc7a-b5ef-4121-ad46-1dd22a78c3ba
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: logging
        pod-template-hash: 5c44dd5f85
        release: k10
        run: logging-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: logging-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: logging
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 5c44dd5f85
          release: k10
          run: logging-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: logging
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/logging:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: logging-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          - containerPort: 24224
            protocol: TCP
          - containerPort: 24225
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: logging-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
          - mountPath: /mnt/conf
            name: logging-configmap-storage
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10state
            name: logging-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: logging-persistent-storage
          persistentVolumeClaim:
            claimName: logging-pv-claim
        - configMap:
            defaultMode: 420
            name: fluentbit-configmap
          name: logging-configmap-storage
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:52Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: metering
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 6545df56dd
      release: k10
      run: metering-svc
    name: metering-svc-6545df56dd
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: metering-svc
      uid: 56c898e4-162f-4e65-9dd6-d836d5f4cc3f
    resourceVersion: "723697"
    uid: 9adf9b21-6bd1-4f93-87ca-ca05f0e45ca7
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: metering
        pod-template-hash: 6545df56dd
        release: k10
        run: metering-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: metering
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 6545df56dd
          release: k10
          run: metering-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: metering
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: AGENT_CONFIG_FILE
            value: /var/ubbagent/config.yaml
          - name: AGENT_STATE_DIR
            value: /var/reports/ubbagent
          - name: K10_REPORT_COLLECTION_PERIOD
            value: "1800"
          - name: K10_REPORT_PUSH_PERIOD
            value: "3600"
          - name: K10_PROMETHEUS_HOST
            value: prometheus-server-exp
          - name: K10_PROMETHEUS_PORT
            value: "80"
          - name: K10_PROMETHEUS_BASE_URL
            value: /k10/prometheus/
          - name: WORKER_POD_METRIC_SIDECAR_ENABLED
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarEnabled
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRIC_LIFETIME
            valueFrom:
              configMapKeyRef:
                key: WorkerPodMetricSidecarMetricLifetime
                name: k10-config
          - name: WORKER_POD_METRIC_SIDECAR_METRICS_INTERVAL
            valueFrom:
              configMapKeyRef:
                key: WorkerPodPushgatewayMetricsInterval
                name: k10-config
          image: gcr.io/kasten-images/metering:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 90
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: metering-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          resources:
            requests:
              cpu: 12m
              memory: 170Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/ubbagent
            name: meter-config
          - mountPath: /var/reports/
            name: metering-persistent-storage
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        initContainers:
        - env:
          - name: MODEL_STORE_DIR
            value: /var/reports/
          image: gcr.io/kasten-images/upgrade:7.5.2
          imagePullPolicy: Always
          name: upgrade-init
          resources:
            requests:
              cpu: 5m
              memory: 20Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - FOWNER
              - CHOWN
            runAsUser: 1000
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/reports/
            name: metering-persistent-storage
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: config
              path: config.yaml
            - key: prometheusTargets
              path: prometheusTargets.yaml
            name: k10-k10-metering-config
          name: meter-config
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
        - name: metering-persistent-storage
          persistentVolumeClaim:
            claimName: metering-pv-claim
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:52Z"
    generation: 1
    labels:
      app: prometheus
      app.kubernetes.io/component: server
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: prometheus
      app.kubernetes.io/part-of: prometheus
      app.kubernetes.io/version: v2.55.0
      component: server
      helm.sh/chart: prometheus-25.28.0
      pod-template-hash: 74c96977b4
      release: k10
    name: prometheus-server-74c96977b4
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus-server
      uid: d2615e08-e0d8-4c0d-ac8d-f23a19a1eb26
    resourceVersion: "723706"
    uid: 7242af34-8dac-4d1c-9c54-f8d274c3a627
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 74c96977b4
        release: k10
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: prometheus
          app.kubernetes.io/component: server
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: prometheus
          app.kubernetes.io/part-of: prometheus
          app.kubernetes.io/version: v2.55.0
          component: server
          helm.sh/chart: prometheus-25.28.0
          pod-template-hash: 74c96977b4
          release: k10
      spec:
        containers:
        - args:
          - --watched-dir=/etc/config
          - --listen-address=0.0.0.0:8080
          - --reload-url=http://127.0.0.1:9090/k10/prometheus/-/reload
          image: gcr.io/kasten-images/configmap-reload:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: metrics
              scheme: HTTP
            initialDelaySeconds: 2
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: prometheus-server-configmap-reload
          ports:
          - containerPort: 8080
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: metrics
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 10m
              memory: 50Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=30d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          - --web.route-prefix=/k10/prometheus
          - --web.external-url=/k10/prometheus/
          image: gcr.io/kasten-images/prometheus:7.5.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /k10/prometheus/-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /k10/prometheus/-/ready
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources:
            requests:
              cpu: 20m
              memory: 200Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus-server
        serviceAccountName: prometheus-server
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-k10-prometheus-config
          name: config-volume
        - name: storage-volume
          persistentVolumeClaim:
            claimName: prometheus-server
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: k10
      meta.helm.sh/release-namespace: kasten-io
    creationTimestamp: "2025-01-18T14:34:52Z"
    generation: 1
    labels:
      app: k10
      app.kubernetes.io/instance: k10
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: k10
      component: state
      helm.sh/chart: k10-7.5.2
      heritage: Helm
      pod-template-hash: 7cfd7579dc
      release: k10
      run: state-svc
    name: state-svc-7cfd7579dc
    namespace: kasten-io
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: state-svc
      uid: 4ca5e21e-4e39-4501-ba80-97a549216969
    resourceVersion: "730176"
    uid: 3d28956c-833c-40b7-a133-b5a123c42c92
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: k10
        component: state
        pod-template-hash: 7cfd7579dc
        release: k10
        run: state-svc
    template:
      metadata:
        annotations:
          checksum/config: 99e06a303bbdcde4398e590f25ede05c5f45d9e94294de46ebfb52a9714f42a9
          checksum/frontend-nginx-config: 0f32c0729f14040f4a93fde2e1bd39c4f00436af3598c6f8cf6efc8feb6f3211
          checksum/secret: f66db5d8e477a083df06a8c63f2eb8d01e9ac67b0fd669e96274dda76808ee12
          run: state-svc
        creationTimestamp: null
        labels:
          app: k10
          app.kubernetes.io/instance: k10
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: k10
          component: state
          helm.sh/chart: k10-7.5.2
          heritage: Helm
          pod-template-hash: 7cfd7579dc
          release: k10
          run: state-svc
      spec:
        containers:
        - env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: state
          - name: MODEL_STORE_DIR
            value: /tmp/k10store
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/state:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: state-svc
          ports:
          - containerPort: 8000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8000
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 130Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        - args:
          - --port=8001
          - --host=0.0.0.0
          env:
          - name: VERSION
            valueFrom:
              configMapKeyRef:
                key: version
                name: k10-config
          - name: FLUENTBIT_ENDPOINT
            valueFrom:
              configMapKeyRef:
                key: fluentbitEndpoint
                name: k10-config
                optional: true
          - name: K10_CAPABILITIES
            value: ' mc'
          - name: K10_HOST_SVC
            value: state
          - name: MODEL_STORE_DIR
            valueFrom:
              configMapKeyRef:
                key: modelstoredirname
                name: k10-config
          - name: LOG_LEVEL
            valueFrom:
              configMapKeyRef:
                key: loglevel
                name: k10-config
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerAction
                name: k10-config
          - name: K10_LIMITER_WORKLOAD_SNAPSHOTS_PER_ACTION
            valueFrom:
              configMapKeyRef:
                key: K10LimiterWorkloadSnapshotsPerAction
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelDownload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_UPLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockUpload
                name: k10-config
          - name: K10_DATA_STORE_PARALLEL_BLOCK_DOWNLOAD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreParallelBlockDownload
                name: k10-config
          - name: K10_DATA_STORE_ESTIMATION_TYPE
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreEstimationType
                name: k10-config
          - name: K10_DATA_STORE_ADAPTIVE_ESTIMATION_THRESHOLD
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreAdaptiveEstimationThreshold
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_GENERAL_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreGeneralMetadataCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_CONTENT_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreContentCacheSizeMB
                name: k10-config
          - name: K10_DATA_STORE_RESTORE_METADATA_CACHE_SIZE_MB
            valueFrom:
              configMapKeyRef:
                key: k10DataStoreRestoreMetadataCacheSizeMB
                name: k10-config
          - name: K10_LIMITER_GENERIC_VOLUME_BACKUPS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterGenericVolumeBackupsPerCluster
                name: k10-config
          - name: K10_LIMITER_SNAPSHOT_EXPORTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterSnapshotExportsPerCluster
                name: k10-config
          - name: K10_LIMITER_VOLUME_RESTORES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterVolumeRestoresPerCluster
                name: k10-config
          - name: K10_LIMITER_CSI_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterCsiSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_DIRECT_SNAPSHOTS_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterDirectSnapshotsPerCluster
                name: k10-config
          - name: K10_LIMITER_IMAGE_COPIES_PER_CLUSTER
            valueFrom:
              configMapKeyRef:
                key: K10LimiterImageCopiesPerCluster
                name: k10-config
          - name: K10_EPHEMERAL_PVC_OVERHEAD
            valueFrom:
              configMapKeyRef:
                key: K10EphemeralPVCOverhead
                name: k10-config
          - name: K10_PERSISTENCE_STORAGE_CLASS
            valueFrom:
              configMapKeyRef:
                key: K10PersistenceStorageClass
                name: k10-config
          - name: AWS_ASSUME_ROLE_DURATION
            valueFrom:
              configMapKeyRef:
                key: AWSAssumeRoleDuration
                name: k10-config
          - name: TOKEN_AUTH
            valueFrom:
              secretKeyRef:
                key: auth
                name: k10-token-auth
          - name: KANISTER_TOOLS
            valueFrom:
              configMapKeyRef:
                key: KanisterToolsImage
                name: k10-config
          - name: K10_RELEASE_NAME
            value: k10
          - name: KANISTER_FUNCTION_VERSION
            valueFrom:
              configMapKeyRef:
                key: kanisterFunctionVersion
                name: k10-config
          image: gcr.io/kasten-images/events:7.5.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 300
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: events-svc
          ports:
          - containerPort: 8001
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /v0/healthz
              port: 8001
              scheme: HTTP
            initialDelaySeconds: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            requests:
              cpu: 3m
              memory: 120Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /mnt/k10-features
            name: k10-features
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 1000
          runAsNonRoot: true
          runAsUser: 1000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: k10-k10
        serviceAccountName: k10-k10
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: k10-features
          name: k10-features
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
kind: List
metadata:
  resourceVersion: ""
